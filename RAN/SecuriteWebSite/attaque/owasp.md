# Identifiez les risques de sécurité pour une entreprise

## Appréhendez l'importance de la sécurité

En 2012, la société Yahoo a été piratée.  À cause d'une mauvaise configuration de la sécurité des bases de données, les mots de passe des utilisateurs ont été rendus publics. Vous pouvez imaginer à quel point cela a nui à l’entreprise, et combien d'argent elle a perdu - sans parler de l'effet que cela a eu sur plus de 450 000 utilisateurs !

Une faille aussi importante aurait-elle pu être évitée ?

Probablement ! 80 % des attaques sur les applications web sont dues à de mauvaises pratiques de développement, qui sont à l’origine des vulnérabilités découvertes et exploitées.

De plus en plus d'entreprises utilisent des applications web pour traiter des données privées, telles que des informations personnelles (nom, date de naissance, numéro d'identification national, etc.) ou des données bancaires. Toutes ces données représentent un attrait considérable pour un attaquant.

Une fuite de données due à un piratage a un impact majeur sur l’image d’une entreprise. Ces dommages se matérialisent bien souvent par des pertes financières. Le cas de Yahoo n’est pas une exception : de nombreuses entreprises sont victimes de piratages exposant les données des utilisateurs. Mais ce n'est pas tout, l'image de marque des entreprises piratées est également écornée en cas d'attaque.

    Le site https://haveibeenpwned.com/ répertorie les différentes fuites de données liées à des sites web largement utilisés.

Dans ce cours, nous parlerons des atteintes à la protection des données qui découlent d'attaques courantes. Ces violations sont spécifiquement liées aux applications web.

## Découvrez comment les entreprises gèrent les risques

La mise en place de pratiques de développement sécurisées au sein d'une entreprise peut représenter un budget considérable. Toutes les entreprises ont des actifs qu'elles doivent protéger. Ces actifs peuvent être des équipements physiques tels que des serveurs, mais aussi des données que l'entreprise doit protéger. C’est pour cette raison que les entreprises doivent mettre en place une politique de gestion des risques, comprenant la gestion de la responsabilité de la sécurité de l'entreprise.

Cependant, cette politique ne sera pas la même en fonction de la valeur des actifs.

    La gestion du risque consiste à déterminer la valeur d'un actif et le coût de sa protection.

Prenons un exemple.

Si j'ai un ensemble de données d'une valeur de 10 € et que je dois investir 100 € pour les sécuriser, est-ce que cela vaut la peine de les sécuriser ? Probablement pas.

Mais qu'en est-il des données qui pourraient valoir des millions d’euros et qui nécessitent un investissement de  100 000 € pour les sécuriser ?

# Identifiez les règles de sécurité à appliquer par les entreprises

De nos jours, la plupart des informations se trouvent facilement sur le web. Un pirate n'a pas besoin d'entrer dans un immeuble pour obtenir des données, il peut le faire directement depuis chez lui ! Cela signifie que les entreprises doivent mettre en place des mesures de sécurité pour se protéger des attaques potentielles.

## Découvrez les mesures de sécurité pour les applications web

Il existe trois principes de sécurité qui peuvent être appliqués pour garantir la sécurité d’une application ou d’une infrastructure.

1. La confidentialité. C'est l'assurance que les personnes non autorisées n'accèdent pas à des informations sensibles.
2. L'intégrité. Elle permet d'être sûr que les données sont fiables et n'ont pas été modifiées par des personnes non autorisées.
3. La disponibilité. C'est l’assurance qu'il n'y a pas de perturbation d'un service ou de l'accessibilité aux données.

La sécurité de l'information repose sur l'équilibre entre ces trois principes.

Ces principes fondamentaux sont des éléments clés dans l’élaboration des politiques de sécurité en entreprise. Mais il existe également des réglementations imposées pour certains secteurs d’activités qui influencent également les politiques de sécurité des entreprises.

Il existe de nombreux règlements en fonction des domaines d’activité des entreprises, en voici quelques-uns qui pourront vous être utiles.

## Identifiez les principales réglementations de sécurité pour les applications web

En 2018, le règlement général sur la protection des données (RGPD) est entré en vigueur. Il modifie la manière dont les données personnelles sont stockées et utilisées et la façon dont les entreprises les traitent. Il permet aux résidents de l'Union européenne de contrôler leurs informations personnelles, comme leur nom, leur âge, leur affiliation politique et leur orientation sexuelle, par exemple.

Les entreprises ne respectant pas le RGPD sont passibles d'une amende. Bien qu'il soit basé sur la législation de l'Union européenne, il concerne tous les pays car les applications web sont disponibles dans le monde entier. Les entreprises en dehors de l’UE qui font du business avec des entreprises européennes devront respecter le RGPD pour leurs applications web à destination du marché européen.

    Comment puis-je être sûr que mon application web répond à ces normes ?

Un des éléments primordial et de veiller à garantir la sécurité des données personnelles stockées et échangées via l’application web. Les données collectées doivent aussi répondre à un usage spécifique.

De plus, il est nécessaire d’avoir la possibilité de supprimer les données personnelles à la demande du client. Par exemple, si un utilisateur veut se désabonner d'une newsletter, il faut s’assurer qu'il existe une option permettant le désabonnement. Une fois qu’une personne se désabonne, l'adresse e-mail doit être automatiquement supprimée de la base de données.

    Jetez un coup d'œil au [site web officiel du RGPD  (en anglais)](https://gdpr.eu/) pour avoir plus d'informations sur la façon dont vous pouvez développer votre application web selon les normes du règlement.

### Découvrez la norme PCI DSS

La norme Payment Card Industry Data Security Standard (PCI DSS) est une norme établie pour toutes les entreprises qui traitent des données bancaires. La sécurisation des données bancaires met l'accent sur la sécurité lors de la transmission, du traitement et du stockage des données.

De plus en plus de plateformes web et de solutions de stockage gèrent les applications pour les entreprises, il est essentiel que le fournisseur soit également conforme à la norme PCI DSS.

Si vous créez une application web qui traite des données bancaires, comme une boutique en ligne ou un site web par abonnement, vous devez chiffrer les transmissions pour garantir la sécurité des données en transit. Les données bancaires transmises en texte clair constituent une violation de la norme PCI DSS, ce qui peut faire l’objet d’une amende.

Si vous souhaitez en savoir plus, voici le [site officiel du PCI DSS (en anglais)](https://www.pcisecuritystandards.org/).

### Appréhendez la réglementation du traitement des données de santé

Les données de santé sont des données à caractère personnel particulières car considérées comme sensibles. Elles font à ce titre l’objet d’une protection spécifique inscrite dans de nombreux textes comme le règlement européen sur la protection des données personnelles, la loi Informatique et Libertés, le Code de la santé publique, etc., afin de garantir le respect de la vie privée des personnes.

    Pour en savoir plus sur le traitement des données personnelles en France, rendez-vous sur le site de la [CNIL](https://www.cnil.fr/).

## Découvrez l'OWASP

L’Open Web Application Security Project (OWASP) est un organisme impartial, mondial et sans but lucratif. Il évalue les dix principaux risques pour la sécurité des applications web et préconise un développement logiciel sécurisé.

L'OWASP organise des rencontres et des conférences ouvertes à tous à travers le monde. Il est donc possible de rencontrer et d’échanger avec la communauté pour effectuer une veille constante.

En tant que développeur web, il est important d'apprendre comment sécuriser votre application, afin qu'elle ne soit pas vulnérable aux attaques courantes. Le Top Ten de l'OWASP fournit des lignes directrices à suivre permettant de respecter des bonnes pratiques pour protéger une application web. Cela vous permettra de prendre en compte la sécurité dès vos premiers développements et apportera également une crédibilité supplémentaire à vos clients ou à l’entreprise pour laquelle vous travaillez. De plus, si vous avez besoin de développer votre application web selon les normes RGPD, PCI DSS ou autre, vous devrez d'abord la sécuriser avec l’OWASP !

# Découvrez l'Open Web Application Security Project (OWASP)

- TOP 10 OWASP et ses vulnérabilités : <https://youtu.be/pHI2zitLph8>

Il existe une multitude d’attaques permettant de compromettre un système. Nous allons nous concentrer sur les attaques ciblant les applications web et sur la façon de les sécuriser.

## Découvrez le principe d'une attaque web ?

Les attaques web tirent parti des failles de sécurité de vos applications web. On parle également de vulnérabilités. Le Top Ten de l'OWASP est un document proposant une classification des attaques web les plus courantes ainsi que les contre-mesures associées.

Lors du développement d’applications, les développeurs ne sont pas forcément au fait des mesures de sécurité à appliquer, et la sécurité représente souvent une contrainte budgétaire et opérationnelle.

C'est pour cette raison qu'il est important de prendre en compte la sécurité dès les premiers développements. En effet, une prise en compte tardive de la sécurité pourra représenter un coût supplémentaire, sans parler du risque encouru en cas d’attaque.

## Découvrez l’OWASP ?

L'Open Web Application Security Project (OWASP) est une organisation à but non lucratif fondée en 2004 pour prévenir de manière proactive les attaques sur les applications web. Il s'agit du premier effort de normalisation des pratiques de développement sécurisé.

En 2001, l'OWASP n'était pas une organisation officielle, mais plutôt un collectif qui préconisait des pratiques de développement sécurisé.

Ce collectif a pris de l'ampleur et est devenu l’OWASP foundation en 2004, avec une norme éthique pour maintenir une neutralité et l'absence de pressions commerciales.

L'OWASP n'est réglementée par aucune entreprise. Elle propose un référentiel neutre permettant d’accompagner les entreprises dans le processus de sécurisation ou d’audit de sécurité.

## Découvrez comment le Top Ten de l'OWASP est utilisé par les entreprises

Avec l'évolution d'Internet, les plus grandes entreprises ont une présence significative en ligne, ce qui les oblige à fournir et à maintenir des applications web.

La plupart des processus internes utilisent également des applications web. Toute application qui traite des données sensibles peut être attaquée et nécessite donc une sécurité standardisée.

Les entreprises qui ne traitent pas de données sensibles, mais qui ont besoin d'une plateforme web pour leur business, sont également exposées aux attaques web.

Par exemple, une entreprise qui fournit des informations, comme un site d'actualité, peut ne pas avoir besoin des données personnelles de ses clients mais nécessite que le site web soit disponible pour permettre la continuité de service. Si une attaque faisait s'effondrer le site, cela aurait une incidence sur les revenus de l'entreprise.

Le Top Ten de l'OWASP fournit une base de référence avec une liste de contrôles à effectuer pour atténuer les risques les plus courants en matière de sécurité. Cette base de référence est également utilisée pour répondre à des normes réglementaires plus strictes, telles que le RGPD par exemple.

Pour plus d'informations, reportez-vous sur la page web de [l’OWASP](https://owasp.org/www-project-top-ten/) (en anglais).

## Appréhendez l'OWASP Top Ten 2017

Dans le Top Ten de l’OWASP, les attaques sont classées par ordre d’importance. Les vulnérabilités présentes dans le Top Ten existent dans les applications web de tous les langages et frameworks. Il n'existe pas de langage de programmation exempt de vulnérabilités.

Voici les 10 attaques les plus fréquentes contre les applications web, selon le Top Ten de l’OWASP en 2017.

1. [Injection - A01:2017 - Injection](./owasp/InjectionSQL.md) <!-- pas finis -->

Une attaque par injection est une attaque permettant l’injection de code arbitraire dans l’application. Cela se produit lorsque des données non maîtrisées sont exécutées par le moteur présent sur le backend de l’application. Les données de l’attaquant sont exécutées sans autorisations adéquates.

L’injection de code non autorisée peut permettre à un attaquant d’accéder à des données auxquelles il n’a normalement pas accès.

2. [Piratage de session - A02:2017 - Broken Authentification](./owasp/PiratageSession.md) <!-- pas finis -->

Beaucoup d'applications exigent qu'un utilisateur se connecte pour arriver sur des pages auxquelles lui seul a accès. L’application est vulnérable à une attaque si un utilisateur malveillant peut obtenir un accès non autorisé aux mots de passe, clés et jetons pour pirater la session d'un autre utilisateur.

3. [Exposition de données sensibles - A03:2017 - Sensitive Data Exposure](./owasp/expositionDonne.md)

Les données stockées ou échangées via une application doivent être protégées pour éviter l’interception par une personne malveillante. Les bases de données qui enregistrent les données personnelles, les données de cartes de crédit, les noms d'utilisateur et les mots de passe représentent une cible de choix pour un pirate. Si ces données ne sont pas chiffrées, elles ne sont pas sécurisées et peuvent être récupérées lorsqu’elles sont en transit par exemple. L'utilisation de techniques de chiffrement et de pratiques de sécurité peut atténuer ce type d’attaques.

4. [Entités externes XML (XXE) - A04:2017 - XML External Entities (XXE)](https://www.youtube.com/watch?v=W7-hIfAgfNM)

Le format XML permet de faciliter l’échange de données sous forme d'arborescence. Il est largement utilisé sur Internet. Il peut être exploité via l’injection XXE ou XML External Entity. XML External Entity est une attaque contre les applications qui parsent des entrées XML (exemple flux RSS). Cette attaque a lieu lorsque l'analyseur XML est mal configuré et contient une référence à une entité externe.

5. [Contournement du contrôle d’accès - A05:2017 - Broken Access Control](https://www.youtube.com/watch?v=aVlBaxikKOQ&t=20s)

Cette attaque vise les fonctionnalités des applications web qui nécessitent un contrôle d'accès. Dans ce cas, les pirates peuvent utiliser l'URL pour contourner l'authentification, par exemple. Ce type d’exploitation peut par exemple révéler comment une base de données est organisée.

6. [Security Misconfiguration - A06:2017 - Security Misconfiguration](https://www.youtube.com/watch?v=4ZoHIur0rrc)

Une mauvaise configuration de sécurité est le plus souvent observée dans les en-têtes HTTP qui permettent de donner des indications sur la configuration du serveur, ou via la gestion des exceptions par défaut. Les codes d'erreur et les exceptions courantes peuvent donner à un attaquant un aperçu de l'application.

7. [Cross-Site Scripting  (XSS) - A07:2017 - Cross-Site Scripting (XSS)](https://www.youtube.com/watch?v=ZHvwVsoQx3o)

Les failles XSS se produisent chaque fois qu'une application inclut des données non fiables dans une nouvelle page web sans validation ou échappement. Les failles XSS permettent aux attaquants d'exécuter des scripts dans le navigateur de la victime, ce qui peut détourner des sessions utilisateur, altérer des sites web ou rediriger l'utilisateur vers un site malveillant.

8. [Désérialisation non sécurisée (Insecure Deserialisation) - A08:2017 - Insecure Deserialization](https://crashtest-security.com/insecure-deserialization/)

Une vulnérabilité de type “insecure deserialisation” permet à un utilisateur malveillant d'accéder et de modifier les fonctionnalités de l’application ciblée.

9. [Utilisation de composants présentant des vulnérabilités connues - A09:2017 - Using Components with Known Vulnerability](https://crashtest-security.com/using-components-with-known-vulnerabilities/)

Même si votre application est sécurisée, vous devez vous assurer que le framework, les bibliothèques, les appels API et la plateforme que vous utilisez ne sont pas vulnérables.

Lorsqu'une nouvelle vulnérabilité est découverte, un correctif est généralement proposé. Il faudra alors l’appliquer pour garantir la sécurité de l’application.

10. [Manque de surveillance et de monitoring - A010:2017 - Insufficient Logging & Monitoring](./owasp/InsufficientLogging&Monitoring.md)

Pour garantir la sécurité d’une application, il est nécessaire de surveiller et de monitorer les connexions. De nombreux serveurs vulnérables servent de rebond aux attaquants. La mise en place de monitoring permettra de détecter une anomalie sur le serveur.

## Les 10 principaux risques liés à la sécurité de l’application Web 2021 de l’OWASP

La dernière mise à jour de la liste a été publiée en 2021, alors que la mise à jour précédente était en 2017.

![](https://owasp.org/www-project-top-ten/assets/images/mapping.png)

> La liste OWASP est également en cours de développement pour les applications mobiles.

1. Contrôle d’accès brisé - A01:2021 - Broken Access Control

Le contrôle d’accès fait référence à l’application de restrictions aux utilisateurs authentifiés pour effectuer des actions en dehors de leur niveau d’autorisation. Le contrôle d’accès est rompu lorsque ces restrictions ne sont pas correctement appliquées. Cela peut conduire à un accès non autorisé à des informations sensibles, ainsi que leur modification ou leur destruction.

2. Défaillances cryptographiques - A02:2021 - Cryptographic Failures

Les défaillances cryptographiques font référence à des problèmes de cryptographie ou à l’absence totale de cryptographie. Auparavant, cet élément était connu sous le nom d’exposition aux données sensibles, mais ce nom n’était pas tout à fait exact puisqu’il décrivait un symptôme et un effet plutôt qu’une cause. Une défaillance cryptographique peut entraîner et entraîne souvent l’exposition de données.

Ce type de manquement s’applique à la protection et au secret des données en transit et au repos. Ces données comprennent généralement des détails d’authentification, tels que les noms d’utilisateur et les mots de passe, mais aussi des renseignements personnels identifiables (IPI) tels que les renseignements personnels et financiers, les dossiers médicaux, les secrets d’affaires, et plus encore.

3. Injection - A03:2021 - Injection

Une attaque par injection désigne des données non fiables par une application qui l’oblige à exécuter des commandes. Ces données ou le code malveillant est inséré par un attaquant et peut compromettre les données ou l’application entière. Les attaques par injection les plus courantes sont les injections SQL, le script inter-sites (XSS), les injections de code, les injections de commandes, les injections CCS et autres.

4. Conception non sécurisée - A04:2021 - Insecure Design

Cette catégorie de vulnérabilités est axée sur les risques associés aux défauts de conception et d’architecture. Comme l’explique l’OWASP, ces risques sont différents de ceux associés aux lacunes dans la mise en œuvre. Une conception non sécurisée bien mise en œuvre est encore vulnérable aux attaques.

La conception non sécurisée renvoie, en partie, à l’absence de contrôles de sécurité et de profilage des risques commerciaux dans le développement de logiciels, et donc à l’absence de détermination appropriée du degré de conception de la sécurité nécessaire.

5. Inconduite en matière de sécurité - A05:2021 - Security Misconfiguration

La mauvaise configuration de la sécurité désigne les contrôles de sécurité qui ne sont pas sécurisés ou configurés correctement.

6. Composants vulnérables et périmés - A06:2021 - Vulnerable and Outdated Components

Cette catégorie était auparavant appelée « Utilisation de composants ayant des vulnérabilités connues ».

7. Échecs de l’identification et de l’authentification - A07:2021 - Identification and Authentication Failures

Cet ensemble de vulnérabilités était auparavant appelé « authentification brisée ».

8. Défaillances des logiciels et de l’intégrité des données - A08:2021 - Software and Data Integrity Failures

Cette nouvelle catégorie sur la liste OWASP concerne les vulnérabilités dans les mises à jour logicielles, les données critiques et les pipelines CI/CD dont l’intégrité n’est pas vérifiée.

Par exemple, une application qui utilise des plugins, des bibliothèques ou des modules provenant de sources, de dépôts ou de réseaux de diffusion de contenu (CDN) non vérifiés et non fiables peut être exposée à un tel type de défaillance.

Une source d’échec similaire peut être la fonctionnalité de mise à jour automatique de la plupart des applications qui ne comprennent pas nécessairement une vérification d’intégrité approfondie. Cela permet aux attaquants de distribuer leurs mises à jour pour créer des vulnérabilités.

Enfin, cette catégorie comprend également ce qu’on appelait auparavant la « désérialisation non sécuritaire » dans la liste de 2017. Les échecs qui surviennent ici sont dus à des objets ou des données encodés ou sérialisés dans une structure visible à un attaquant et qu’ils peuvent modifier.

9. Échec de la journalisation et de la surveillance de la sécurité - A09:2021 - Security Logging and Monitoring Failures

Auparavant appelée « Enregistrement et surveillance insuffisants », cette catégorie a été élargie pour inclure plus de types de défaillances. Bien que la journalisation et la surveillance soient difficiles à mettre à l’essai, cette catégorie est essentielle parce que les échecs peuvent avoir une incidence sur la responsabilisation, la visibilité, les alertes aux incidents et la criminalistique.

10. Falsification de requête côté serveur (SSRF) - A10:2021 - Server-Side Request Forgery

Requête côté serveur Des problèmes de contrefaçon surviennent lorsqu’une application web ne valide pas l’URL fournie par l’utilisateur lors de la récupération d’une ressource distante. Cela permet aux attaquants de forcer l’application à envoyer une demande élaborée à une destination inattendue, même si elle est protégée par un pare-feu, un VPN ou une liste de contrôle d’accès au réseau (ACL).

Récupérer une URL est une fonctionnalité courante parmi les applications web modernes, qui augmente dans les instances de SSRF. De plus, elles deviennent de plus en plus sévères en raison de la complexité croissante des architectures et des services cloud.

> Mais, est-il possible de sécuriser le code de toutes les attaques présentes dans le Top Ten de l'OWASP ?

Absolument !

Si vous utilisez les bonnes pratiques de sécurité et que vous êtes conscient des risques, vous avez une longueur d'avance !

Rappelez-vous que 80 % des applications présentent des vulnérabilités communes telles que décrites dans l'OWASP. Apprendre à les connaître et utiliser des techniques simples de développement sécurisé dont nous parlerons dans ce cours vous aidera à créer un code de qualité !

Autre attaque possible :

- Faille upload : <https://www.youtube.com/watch?v=rPdn88pO7x0> - <https://www.youtube.com/watch?v=dRYy6gJBmyM>
- Click jacking : <https://youtu.be/_tz0O5-cndE> - <https://www.youtube.com/watch?v=Pdc5KJfOQpI>
- Cookie poisoning : <https://www.youtube.com/watch?v=QE7gNcICAek>
- CSRF : <https://www.youtube.com/watch?v=X7SPRJaPL9c>
- Dos : <https://www.youtube.com/watch?v=Sw-nvtZixFw>
- TLS Session Resumption : <https://www.youtube.com/watch?v=1V8Gp9zHQjM>
- Certificate Revocation
- Trusted Certificates
- HSTS
- Missing SSL CAA record
- Secure Cookies
- TLS Configuration
- TLS Certificates
- LUCKY13
- CRIME
- BREACH Attacks
- TLS Encryption
- Perfect Forward Secrecy
- TLS Key Size
- Deprecated SSL Protocol Versions
- SSL Cipher Order
- TLS Warning
- Security Headers
- SSL RC4
- SSL Insecure Algorithm
- Ticketbleed
- DROWN
- SWEET32
- ROBOT
- LOGJAM
- POODLE
- FREAK
- BEAST
- TLS_FALLBACK_SCSV
- SSL Renegotiation
- CCS Injection
- Heartbleed
- Client-Initiated SSL Renegotiation
- ...
