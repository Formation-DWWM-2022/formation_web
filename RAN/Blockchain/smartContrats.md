# Smart Contract, vers la s√©curisation et l‚Äôautomatisation des obligations contractuelles

Un smart contract, traduit en fran√ßais par contrat intelligent ou contrat autonome, est un programme ou code informatique dont l‚Äôex√©cution ne n√©cessite pas l‚Äôintervention d‚Äôun tiers de confiance. Dans le contexte de la blockchain, il s‚Äôagit d‚Äôun programme qui s‚Äôactive automatiquement sur un r√©seau distribu√© lorsque certaines conditions sont remplies sur le registre partag√©.

Les smart contracts ont √©t√© conceptualis√©s par Nick Szabo √† partir de 1994, mais il a fallu attendre 2009 et Bitcoin pour voir leur premi√®re impl√©mentation dans un syst√®me viable. Ces contrats autonomes sont aujourd'hui largement mis en application sur la plateforme sp√©cialis√©e Ethereum, lanc√©e en 2015 √† cet effet.

![](https://cryptoast.fr/wp-content/uploads/2018/06/smart-contract-blockchain-crypto.jpg.webp)

- [üí° Un SMART CONTRACT c'est QUOI ?](https://youtu.be/fChbMGRnCf8)
- [Qu'est-ce qu'un Smart contract ?](https://youtu.be/vQTs7NmTDa8)
- [Initiation √† la cr√©ation d'un smart contract sur la blockchain Ethereum](https://youtu.be/2v6ittLS-6s)

## Origine des smart contracts

Le concept de smart contract a √©t√© formalis√© par l'informaticien, juriste et cryptographe am√©ricain Nick Szabo. Dans son premier √©crit public sur le sujet en 1994, ce dernier d√©crivait cela comme ¬´ un protocole de transaction informatis√© qui ex√©cute les termes d‚Äôun contrat ¬ª. Il a par la suite affin√© son id√©e dans des √©crits divers comme Smart Contracts: Building Blocks for Digital Markets en 1996 ou Formalizing and Securing Relationships on Public Networks en 1997.

Le terme ¬´ smart contract ¬ª, invent√© par Szabo lui-m√™me, est un peu d√©routant, car un smart contract n'est pas vraiment intelligent, ni vraiment un contrat au sens juridique, mais est un programme qui s'ex√©cute selon des conditions simples. Szabo a fa√ßonn√© cette expression pour la communication : le mot smart en anglais est en effet r√©guli√®rement utilis√© pour appuyer sur le c√¥t√© astucieux et √©volutif d'une nouvelle technologie. Un t√©l√©phone multifonction est ainsi appel√© un smartphone en anglais comme en fran√ßais. Une carte √† puces est une smart card, on parle de smart city pour une ville connect√©e, de smart bombs pour des bombes guid√©es, etc.

Bien qu'il ait attir√© l'attention de nombreux cypherpunks dans les ann√©es 1990, le concept de smart contract n'a pas √©t√© impl√©ment√© car aucune technologie ne permettait alors de le mettre en application de mani√®re suffisamment robuste. Il a fallu attendre l'√©mergence de la technologie blockchain avec l'apparition de Bitcoin en 2009 pour que l'id√©e soit r√©ellement mise en ≈ìuvre : bien que sa capacit√© √† g√©rer des contrats soit limit√©e, ce dernier constitue en effet un syst√®me de monnaie programmable.

La v√©ritable r√©volution arrive en 2015 avec le lancement d'Ethereum, qui permet de construire des contrats autonomes plus complexes, notamment en utilisant un langage de programmation sp√©cifique appel√© Solidity. Ce dernier permet aux d√©veloppeurs d'√©crire des processus √©volu√©s dans un court laps de temps.

Cette √©mergence a permis √† beaucoup d'autres plateformes bas√©es sur le m√™me mod√®le d'appara√Ætre, comme Tezos, Cardano, EOS, NEO ou TRON. La mont√©e en puissance de ces protocoles a permis √† l'id√©e du contrat intelligent de rena√Ætre pour automatiser et am√©liorer de nombreux processus. Un contrat intelligent permet de se passer d'interm√©diaire, et donc de tiers de confiance pour r√©aliser certaines clauses pr√©vues dans le contrat.

## Qu'est-ce qu'un smart contract ?

Les smart contracts, sont des programmes informatiques qui s'ex√©cutent sans l'intervention d'un tiers de confiance, g√©n√©ralement sur une blockchain comme celle d'Ethereum. Ils sont constitu√©s de clauses, qui sont les conditions qui doivent √™tre remplies pour qu'une partie du contrat soit appliqu√©e. Ces conditions sont d√©finies pr√©alablement par le cr√©ateur du contrat et sont √©crites de mani√®re immuable sur la blockchain. Le contrat peut alors √™tre automatiquement d√©clench√© lorsque certaines conditions sont remplies sur la cha√Æne. Contrairement √† un contrat traditionnel, aucune tierce partie ne va proc√©der √† la r√©alisation du contrat, tout est automatis√©.

Sur la blockchain Ethereum, cr√©√©e par Vitalik Buterin, un smart contract est identifi√© par une adresse publique par exemple 0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f. En plus de g√©rer des transactions en √©thers, cette adresse contient du code et des donn√©es, n√©cessaires au bon fonctionnement du programme. Contrairement √† un compte classique qui demande √† une personne de signer les transactions, un contrat va r√©agir tout seul aux diff√©rentes interactions, de mani√®re autonome.

![](https://cryptoast.fr/wp-content/uploads/2020/05/uniswap-v2-factory-contract.png.webp)

Par exemple, une loterie peut √™tre mise en place par le biais d'un smart contract : une personne d√©ploie le contrat √† une adresse, et chacun peut alors acheter un ticket en interagissant avec le contrat. Deux clauses peuvent √™tre impl√©ment√©es :

- Si, √† une date donn√©e, le solde du compte d√©passe un certain montant, alors celui-ci est envoy√© √† un participant choisi au hasard.
- Sinon, les participants sont rembours√©s.

Ce n'est qu'un exemple et les possibilit√©s offertes par les contrats autonomes sont bien plus vastes que cela : repr√©sentation et transferts d'actifs (tokens, actes de propri√©t√©s, etc.), jeux en tous genres, services d'√©changes d√©centralis√©s, pr√™ts, organisations autonomes d√©centralis√©es, etc.

Notez au passage que les smart contracts forment la base de ce qu'on appelle les applications d√©centralis√©es ou DApps.

![](https://coinacademy.fr/wp-content/uploads/2021/11/comment-les-contrats-intelligents-fonctionnent-infographie-fonctionnement-des-termes-predefinis-declenchant-l-execution-et-le-216350795-2-1024x512.jpg.webp)

## Les frais de transaction ‚ÄúGas Fees‚Äù

Le ‚ÄúGas‚Äù fait r√©f√©rence aux frais de transaction n√©cessaires pour compenser l'√©nergie du calcul essentielle √† la validation par les n≈ìuds du r√©seau.

Tout comme Satoshi Nakamoto l'avait th√©oris√© et appliqu√© √† son protocole du Bitcoin, il est n√©cessaire de les r√©mun√©rer afin d'assurer leur int√©r√™t √† s√©curiser le r√©seau. Car les mineurs r√©alisent les t√¢ches importantes de v√©rification et de traitement des transactions sur le r√©seau, mais peuvent √©galement le corrompre et l'attaquer. Il √©tait donc indispensable de les r√©mun√©rer pour assurer le fonctionnement et la s√©curit√© des r√©seaux.

La limite de gas repr√©sente la quantit√© maximale de gas que vous √™tes pr√™t √† d√©penser pour une transaction. Cependant, si la ‚Äúlimite de gas‚Äù est trop basse, un mineur peut choisir d'ignorer ces transactions ce qui implique une fluctuation des frais en fonction de l'offre et de la demande. Sur le r√©seau Ethereum par exemple, les frais s'effectuent avec la cryptomonnaie native d'Ethereum, l'√©ther $ETH.

Les prix du gas sont indiqu√©s en gwei : 1 gwei = 1 nanoETH = 0,000000001 ETH (10 -9 ETH).

Note : les frais de transactions sont un √©l√©ment de concurrence majeur sur le march√© des crypto monnaies. Ethereum est particuli√®rement vis√©e pour ses frais de transaction tr√®s √©lev√©s et fait l'≈ìuvre de nombreuses critiques. Les d√©veloppeurs mettent donc en ≈ìuvre de nombreuses solutions pour r√©soudre ce probl√®me.

## Quel langage de programmation ?

Chaque blockchain permettant de g√©rer des contrats autonomes poss√®de ce qu'on appelle une machine virtuelle (virtual machine), qui fonctionne simultan√©ment sur chaque ordinateur du r√©seau et qui interpr√®te les diff√©rentes transactions. Les contrats sont donc interpr√©t√©s de la m√™me mani√®re par tous les n≈ìuds et il est donc n√©cessaire d'avoir un langage pour les communiquer entre les diff√©rentes machines.

Comme on l'a dit plus haut, les premiers contrats ont √©t√© d√©ploy√©s sur la blockchain de Bitcoin. Cela a pu se faire car Bitcoin est un syst√®me de monnaie programmable dans lequel toutes les transactions sont des contrats : gr√¢ce √† un langage, nomm√© simplement Script, une pi√®ce de bitcoin peut √™tre bloqu√©e sous certaines conditions pr√©d√©finies. Typiquement, la plupart des fonds sont bloqu√©s √† une adresse par un script du genre :

DUP HASH160 <adresse> EQUALVERIFY CHECKSIG

N√©anmoins, la machine virtuelle de Bitcoin n'est pas Turing-compl√®te et est volontairement limit√©e √† des op√©rations proc√©durales. Il est par exemple impossible d'y effectuer des boucles et de pratiquer la r√©cursivit√© avec le langage Script. C'est la raison pour laquelle a √©t√© cr√©√© Ethereum : pour constituer un ordinateur mondial polyvalent et d√©centralis√© qui permette d'ex√©cuter une extr√™me diversit√© de contrats autonomes.

La machine virtuelle d'Ethereum (Ethereum Virtual machine ou EVM) a donc √©t√© pens√©e pour √™tre quasi Turing-compl√®te : il est possible d'y effectuer des boucles et des r√©cursions, mais elle est limit√©e par un syst√®me de gaz pour ne qu'un contrat ne puisse pas tourner √† l'infini et paralyser le r√©seau. Elle se base sur un bytecode similaire au Script de Bitcoin. N√©anmoins la plupart des contrats sont g√©n√©ralement √©crits dans un langage de plus haut niveau, qui est compil√© en bytecode, ce qui facilite grandement la t√¢che du d√©veloppeur. Le plus r√©pandu est le langage Solidity, un langage inspir√© de Javascript, cr√©√© en 2014 √† l'initiative de Gavin Wood et r√©guli√®rement mis √† jour depuis.

Voici un exemple simple de contrat √©crit en Solidity (exemple tir√© de Mastering Ethereum). Il s'agit d'un syst√®me de ¬´ robinet ¬ª (faucet) qui donne des √©thers (ETH) gratuitement √† celui qui en fait la demande au contrat :

```
pragma solidity ^0.4.19;

contract Faucet
    {

    // Fonction donnant des ETH
    function withdraw(uint withdraw_amount) public
    {

        // Montant de retrait limit√© √† 0.1 ETH
        require(withdraw_amount <= 100000000000000000);

        // Send the amount to the address that requested it
        msg.sender.transfer(withdraw_amount);
    }

    // Le contrat accepte les paiements entrants (renflouement)
    function () public payable {}

}
```

Bitcoin et Ethereum ne sont pas les seuls protocoles √† supporter les smart contracts : quasiment tous les syst√®mes de cryptomonnaie ont des capacit√©s de programmation, √† l'exception de quelques syst√®mes comme Monero.

## Quelle est l'utilit√© des contrats intelligents ?

Bien qu'ils ne soient pas encore exploit√©s √† leur plein potentiel, les contrats autonomes sont utiles pour toutes sortes de choses. Les usages actuels sont multiples et divers, mais ils vont la plupart du temps se rapprocher du domaine financier.

Voici quelques exemples d'applications de smart contracts :

- Les comptes multisignatures : ceux-ci permettent la mise en place de comptes joints n√©cessitant plusieurs signatures pour proc√©der √† des transferts.
- Le d√©p√¥t fiduciaire (escrow payment en anglais), permettant la mise sous s√©questre de fonds en attente de l'envoi diff√©r√© d'un bien. Ce type de contrat est par exemple mis en application par la plateforme d'achat / vente pair-√†-pair LocalCryptos.
- Les canaux de paiement, qui donnent √† deux utilisateurs la possibilit√© d'effectuer des micropaiements entre eux. C'est sur ces canaux que se base le r√©seau Lightning.
- La repr√©sentation d'actifs sur une cha√Æne de blocs par un jeton (ou token) : c'est ce qu'on appelle la tok√©nisation. Celle-ci peut concerner les biens fongibles (comme les stablecoins qui sont adoss√©s √† des monnaies fiat) ainsi que les biens non fongibles (comme par l'exemple de l'immobilier avec RealT).
- Les lev√©es de fonds, qui reposent la plupart du temps sur la pr√©vente d'un jeton num√©rique ayant une utilit√© future. On parle d'Initial Coin Offering (ICO), d'Initial Exchange Offering (IEO) ou de Security Token Offering (STO) selon le contexte et la nature du jeton.
- Les √©changes d√©centralis√©s de crypto-actifs. Cela peut concerner les crypto-monnaies se trouvant sur des cha√Ænes diff√©rentes (via des atomic swaps) ou des cryptos se trouvant sur la m√™me cha√Æne (Uniswap, Kyber Network, Binance DEX, etc.)
- Le pr√™t d√©centralis√©, avec Maker et Compound par exemple.
- Le march√© pr√©dictif avec Augur.
- Les organisation autonomes d√©centralis√©es, comme Maker DAO ou Moloch DAO.

Notez que plupart de ces exemples peuvent √™tre cat√©goris√©s comme appartenant √† la finance d√©centralis√©e.

Il existe √©galement beaucoup d'autres cas d'usage qui n'ont pas encore √©t√© compl√®tement exploit√©s. On peut citer :

- Le notariat, permettant d'automatiser des processus comme les actes de naissance, les passassions de propri√©t√©, etc.
- L'assurance : une conduite lors d'un temps clair et sur une route d√©gag√©e donnerait une compensation diff√©rente d'une conduite de nuit sur une route caboss√©e.
- La cha√Æne logistique (supply chain) : en fonction des commandes de ses clients, une entreprise commanderait automatiquement le nombre de pi√®ces n√©cessaires √† la r√©alisation de tel ou tel produit.

Ces exemples demanderaient l'existence de ce qu'on appelle des oracles qui s'assureraient de rentrer les donn√©es du monde r√©el sur la cha√Æne de blocs. Cela pose la question de la fiabilit√© : est-ce qu'on peut faire confiance √† un oracle pour son application d√©centralis√©e ? Aujourd'hui, des syst√®mes d'oracles existent, mais ils demandent √† √™tre am√©lior√©s.

![](https://coinacademy.fr/wp-content/uploads/2021/11/1_bTiqPvb975TdbD6bJr6ovw-3-765x1024.jpeg.webp)

Plus qu'un simple moyen d'√©change, les smart contracts sont des transporteurs d'informations, et peuvent donc jouer un r√¥le majeur dans les strat√©gies √©conomiques, logistiques et organisationnelles des entreprises :

- S√©curiser un accord gr√¢ce √† l‚Äôimmutabilit√© et la transparence de la blockchain
- Limiter les co√ªts interm√©diaires, comme les notaires ou les avocats, pour l‚Äô√©laboration, le suivi et la passation d‚Äôun contrat
- R√©duire les risques d‚Äôerreurs et d‚Äôinterpr√©tations
- Simplifier les transactions entre diff√©rents acteurs
- Automatiser les obligations contractuelles, telles que le paiement. Cela permet d‚Äô√©liminer les risques d‚Äôimpay√©s, par un transfert automatique des fonds, qui auront √©t√© plac√©s sous s√©questre par exemple

## Quels sont les risques ?

Comme dans toute chose dans l'informatique, le risque principal avec les smart contracts est le risque de piratage.

Puisque le code est publi√© sur la cha√Æne, il est possible pour un pirate d'identifier ses faiblesses et de les exploiter. Cela a d√©j√† eu lieu √† de multiples reprises sur Ethereum, et ceci pour des montants extr√™mement √©lev√©s : le cas le plus connu est le piratage du contrat de TheDAO le 17 juin 2016, qui avait permis √† quelqu'un de s'emparer de 3,6 millions d'√©thers, soit plus de 150 millions de dollars √† l'√©poque. Cette affaire a conduit √† la scission entre Ethereum (ETH) et Ethereum Classic (ETC) : Ethereum a en effet fait le choix d'annuler le transfert pour rembourser les investisseurs de TheDAO, alors que Ethereum Classic a pr√©f√©r√© suivre le principe de l'immuabilit√©.

Ainsi, avant de proc√©der au d√©ploiement sur le r√©seau, il faut s'assurer que tout fonctionne bien dans le code qu'on a √©crit, car il est impossible (en principe) de modifier ou d'arr√™ter un contrat si on ne l'a pas programm√© pour. Il existe des moyens de mitiger le risque de piratage, dont notamment :

- L'utilisation de standards v√©rifi√©s et test√©s par la communaut√©, par exemple le standard ERC-20 qui est largement utilis√© pour cr√©er de nouveaux jetons sur Ethereum.
- Le recours √† des audits aupr√®s de cabinets sp√©cialis√©s.

## Quelle valeur juridique pour les smart contracts ?

Une erreur commune que font beaucoup de d√©butants, est de croire qu'un contrat intelligent est un contrat au sens juridique. Or ce n'est pas le cas ! Il s'agit simplement de programmes informatiques fonctionnant sur des syst√®mes distribu√©s, qui appliquent des clauses d√©finies pr√©alablement, d'o√π l'analogie avec les contrats.

Les smart contracts n'ont pour l'instant aucune valeur juridique. Si, d'une mani√®re ou d'une autre, les fonds de votre contrat se font siphonner par un pirate, il n'y a aucun recours possible car ce n'est pas consid√©r√© comme un vol.

N√©anmoins, il est possible qu'√† l'avenir (et avec la maturation des diff√©rents protocoles crypto-√©conomiques) les syst√®mes juridiques reconnaissent la validit√© des informations situ√©es sur certaines cha√Ænes. En r√©alit√©, l'id√©e n'est pas d'adapter les diff√©rentes blockchains au syst√®me juridique existant, mais de faire reposer, √† terme, tout le syst√®me juridique sur ces blockchains.

De plus, m√™me si les syst√®mes de gouvernance des blockchains peuvent parfois r√©parer une faute comme √ßa a √©t√© le cas pour le piratage de TheDAO qui avait √©t√© annul√© sur Ethereum, il faut pr√©ciser que de telles mesures ne peuvent avoir lieu que lorsque la s√©curit√© de la cha√Æne est en jeu (ici 4,5 % des √©thers vol√©s). De cette mani√®re, le gel accidentel de plus de 500 000 ETH (150 millions de dollars) du contrat de Parity en novembre 2017 n'a pas √©t√© suffisamment important pour inverser le processus.

![](https://coinacademy.fr/wp-content/uploads/2021/11/1_cVeTQYLF5Z35yGoZ23Sfmw-3.png)
